{"ast":null,"code":"var _jsxFileName = \"/Users/seiframy/Downloads/acl_project-main/mern/client/src/components/usersearch.js\";\nimport React, { Component } from \"react\"; // This will require to npm install axios\n\nimport axios from 'axios';\nimport CountryTable from './CountryTable';\nimport { SearchBar2 } from \"./SearchBar2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class usersearch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearchEvents = (title, name) => {\n      this.setState({\n        [name]: title\n      });\n    };\n\n    this.data = []; // this data should not live in state\n\n    this.state = {\n      records: [],\n      flight_from: '',\n      flight_from2: '',\n      flight_to: '',\n      flight_to2: '',\n      flightNum: '',\n      flight_date: '',\n      cabin: '',\n      noSeats: '',\n      depTime: '',\n      arrTime: '',\n      terminal: '',\n      isLoading: true\n    };\n  } // This method will get the data from the database.\n\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5001/record/\").then(response => {\n      this.setState({\n        records: response.data\n      });\n      let array = [];\n\n      for (let i = 0; i < response.data.length; i++) {\n        let entry = {}; //key value pairs\n\n        entry.flight_from = response.data[i].flight_from;\n        entry.flight_to2 = response.data[i].flight_from;\n        entry.flight_to = response.data[i].flight_to;\n        entry.flight_from2 = response.data[i].flight_to;\n        entry.flightNum = response.data[i].flightNum;\n        entry.flight_date = response.data[i].flight_date;\n        entry.cabin = response.data[i].cabin;\n        entry.noSeats = response.data[i].noSeats;\n        entry.depTime = response.data[i].depTime;\n        entry.arrTime = response.data[i].arrTime;\n        entry.terminal = response.data[i].terminal;\n        array[i] = entry;\n      }\n\n      this.data = array;\n      this.setState({\n        isLoading: false\n      });\n    }).catch(error => this.setState({\n      error,\n      isLoading: false\n    }));\n  }\n\n  render() {\n    // console.log(this.data); // data is array of objects\n    const filteredData = this.data.filter(dataObj => dataObj.flight_from.indexOf(this.state.flight_from) !== -1 && dataObj.flight_to2.indexOf(this.state.flight_from) !== -1 && dataObj.flight_to.indexOf(this.state.flight_to) !== -1 && dataObj.flight_from2.indexOf(this.state.flight_to) !== -1 && dataObj.flight_date.indexOf(this.state.flight_date) !== -1 && dataObj.cabin.indexOf(this.state.cabin) !== -1 && dataObj.noSeats.indexOf(this.state.noSeats) !== -1);\n    const filteredData2 = this.data.filter(dataObj => dataObj.flight_to.indexOf(this.state.flight_from) !== -1 && dataObj.flight_from.indexOf(this.state.flight_to) !== -1); // console.log(filteredData2);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar2, {\n        flight_from: this.state.flight_from,\n        flight_to: this.state.flight_to,\n        flight_date: this.state.flight_date,\n        cabin: this.state.cabin,\n        noSeats: this.state.noSeats,\n        handleSearchEvents: this.handleSearchEvents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Departure Flights \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CountryTable, {\n        flight_from: this.state.flight_from,\n        flight_to: this.state.flight_to,\n        flightNum: this.state.flightNum,\n        flight_date: this.state.flight_date,\n        cabin: this.state.cabin,\n        noSeats: this.state.noSeats,\n        depTime: this.state.depTime,\n        arrTime: this.state.arrTime,\n        terminal: this.state.terminal,\n        data: filteredData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Return Flights \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CountryTable, {\n        flight_from: this.state.flight_from,\n        flight_to: this.state.flight_to,\n        flightNum: this.state.flightNum,\n        flight_date: this.state.flight_date,\n        cabin: this.state.cabin,\n        noSeats: this.state.noSeats,\n        depTime: this.state.depTime,\n        arrTime: this.state.arrTime,\n        terminal: this.state.terminal,\n        data: filteredData2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/seiframy/Downloads/acl_project-main/mern/client/src/components/usersearch.js"],"names":["React","Component","axios","CountryTable","SearchBar2","usersearch","constructor","props","handleSearchEvents","title","name","setState","data","state","records","flight_from","flight_from2","flight_to","flight_to2","flightNum","flight_date","cabin","noSeats","depTime","arrTime","terminal","isLoading","componentDidMount","get","then","response","array","i","length","entry","catch","error","render","filteredData","filter","dataObj","indexOf","filteredData2"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,eAAe,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAE9CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqDrBC,kBArDqB,GAqDA,CAACC,KAAD,EAAQC,IAAR,KAAiB;AACpC,WAAKC,QAAL,CAAc;AAAE,SAACD,IAAD,GAAQD;AAAV,OAAd;AACH,KAvDsB;;AAEf,SAAKG,IAAL,GAAY,EAAZ,CAFe,CAEC;;AAChB,SAAKC,KAAL,GAAa;AACbC,MAAAA,OAAO,EAAE,EADI;AAEbC,MAAAA,WAAW,EAAE,EAFA;AAGbC,MAAAA,YAAY,EAAE,EAHD;AAIbC,MAAAA,SAAS,EAAE,EAJE;AAKbC,MAAAA,UAAU,EAAE,EALC;AAMbC,MAAAA,SAAS,EAAC,EANG;AAObC,MAAAA,WAAW,EAAE,EAPA;AAQbC,MAAAA,KAAK,EAAE,EARM;AASbC,MAAAA,OAAO,EAAE,EATI;AAUbC,MAAAA,OAAO,EAAE,EAVI;AAWbC,MAAAA,OAAO,EAAE,EAXI;AAYbC,MAAAA,QAAQ,EAAE,EAZG;AAabC,MAAAA,SAAS,EAAE;AAbE,KAAb;AAeD,GApB2C,CAsB5C;;;AACJC,EAAAA,iBAAiB,GAAG;AAClBzB,IAAAA,KAAK,CACF0B,GADH,CACO,+BADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClB,WAAKnB,QAAL,CAAc;AAAEG,QAAAA,OAAO,EAAEgB,QAAQ,CAAClB;AAApB,OAAd;AACA,UAAImB,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAAClB,IAAT,CAAcqB,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,YAAIE,KAAK,GAAG,EAAZ,CAD6C,CAE7C;;AACAA,QAAAA,KAAK,CAACnB,WAAN,GAAoBe,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBjB,WAArC;AACAmB,QAAAA,KAAK,CAAChB,UAAN,GAAiBY,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBjB,WAAlC;AACAmB,QAAAA,KAAK,CAACjB,SAAN,GAAkBa,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBf,SAAnC;AACAiB,QAAAA,KAAK,CAAClB,YAAN,GAAqBc,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBf,SAAtC;AACAiB,QAAAA,KAAK,CAACf,SAAN,GAAkBW,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBb,SAAnC;AACAe,QAAAA,KAAK,CAACd,WAAN,GAAoBU,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBZ,WAArC;AACAc,QAAAA,KAAK,CAACb,KAAN,GAAcS,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBX,KAA/B;AACAa,QAAAA,KAAK,CAACZ,OAAN,GAAgBQ,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBV,OAAjC;AACAY,QAAAA,KAAK,CAACX,OAAN,GAAgBO,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBT,OAAjC;AACAW,QAAAA,KAAK,CAACV,OAAN,GAAgBM,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBR,OAAjC;AACAU,QAAAA,KAAK,CAACT,QAAN,GAAiBK,QAAQ,CAAClB,IAAT,CAAcoB,CAAd,EAAiBP,QAAlC;AACAM,QAAAA,KAAK,CAACC,CAAD,CAAL,GAAWE,KAAX;AACD;;AACA,WAAKtB,IAAL,GAAWmB,KAAX;AACD,WAAKpB,QAAL,CAAc;AACZe,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KAzBH,EA0BGS,KA1BH,CA0BSC,KAAK,IAAI,KAAKzB,QAAL,CAAc;AAAEyB,MAAAA,KAAF;AAASV,MAAAA,SAAS,EAAE;AAApB,KAAd,CA1BlB;AA2BD;;AAQCW,EAAAA,MAAM,GAAG;AACT;AAEA,UAAMC,YAAY,GAAG,KAAK1B,IAAL,CAAU2B,MAAV,CAAkBC,OAAD,IACrCA,OAAO,CAACzB,WAAR,CAAoB0B,OAApB,CAA4B,KAAK5B,KAAL,CAAWE,WAAvC,MAAwD,CAAC,CAA1D,IACCyB,OAAO,CAACtB,UAAR,CAAmBuB,OAAnB,CAA2B,KAAK5B,KAAL,CAAWE,WAAtC,MAAuD,CAAC,CADzD,IAECyB,OAAO,CAACvB,SAAR,CAAkBwB,OAAlB,CAA0B,KAAK5B,KAAL,CAAWI,SAArC,MAAoD,CAAC,CAFtD,IAGCuB,OAAO,CAACxB,YAAR,CAAqByB,OAArB,CAA6B,KAAK5B,KAAL,CAAWI,SAAxC,MAAuD,CAAC,CAHzD,IAICuB,OAAO,CAACpB,WAAR,CAAoBqB,OAApB,CAA4B,KAAK5B,KAAL,CAAWO,WAAvC,MAAwD,CAAC,CAJ1D,IAKCoB,OAAO,CAACnB,KAAR,CAAcoB,OAAd,CAAsB,KAAK5B,KAAL,CAAWQ,KAAjC,MAA4C,CAAC,CAL9C,IAMCmB,OAAO,CAAClB,OAAR,CAAgBmB,OAAhB,CAAwB,KAAK5B,KAAL,CAAWS,OAAnC,MAAgD,CAAC,CAP7B,CAArB;AAUC,UAAMoB,aAAa,GAAG,KAAK9B,IAAL,CAAU2B,MAAV,CAAkBC,OAAD,IACtCA,OAAO,CAACvB,SAAR,CAAkBwB,OAAlB,CAA0B,KAAK5B,KAAL,CAAWE,WAArC,MAAsD,CAAC,CAAxD,IACCyB,OAAO,CAACzB,WAAR,CAAoB0B,OAApB,CAA4B,KAAK5B,KAAL,CAAWI,SAAvC,MAAsD,CAAC,CAFlC,CAAtB,CAbQ,CAgBT;;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACE,QAAC,UAAD;AACE,QAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWE,WAD1B;AAEE,QAAA,SAAS,EAAE,KAAKF,KAAL,CAAWI,SAFxB;AAGE,QAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWO,WAH1B;AAIE,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWQ,KAJpB;AAKE,QAAA,OAAO,EAAE,KAAKR,KAAL,CAAWS,OALtB;AAME,QAAA,kBAAkB,EAAE,KAAKd;AAN3B;AAAA;AAAA;AAAA;AAAA,cADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,eAWE,QAAC,YAAD;AACE,QAAA,WAAW,EAAE,KAAKK,KAAL,CAAWE,WAD1B;AAEE,QAAA,SAAS,EAAE,KAAKF,KAAL,CAAWI,SAFxB;AAGE,QAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWM,SAHxB;AAIE,QAAA,WAAW,EAAE,KAAKN,KAAL,CAAWO,WAJ1B;AAKE,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWQ,KALpB;AAME,QAAA,OAAO,EAAE,KAAKR,KAAL,CAAWS,OANtB;AAOE,QAAA,OAAO,EAAE,KAAKT,KAAL,CAAWU,OAPtB;AAQE,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWW,OARtB;AASE,QAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWY,QATvB;AAUE,QAAA,IAAI,EAAEa;AAVR;AAAA;AAAA;AAAA;AAAA,cAXF,oBAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF,eA2BE,QAAC,YAAD;AACE,QAAA,WAAW,EAAE,KAAKzB,KAAL,CAAWE,WAD1B;AAEE,QAAA,SAAS,EAAE,KAAKF,KAAL,CAAWI,SAFxB;AAGE,QAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWM,SAHxB;AAIE,QAAA,WAAW,EAAE,KAAKN,KAAL,CAAWO,WAJ1B;AAKE,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWQ,KALpB;AAME,QAAA,OAAO,EAAE,KAAKR,KAAL,CAAWS,OANtB;AAOE,QAAA,OAAO,EAAE,KAAKT,KAAL,CAAWU,OAPtB;AAQE,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWW,OARtB;AASE,QAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWY,QATvB;AAUE,QAAA,IAAI,EAAEiB;AAVR;AAAA;AAAA;AAAA;AAAA,cA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA0CG;;AAvH2C","sourcesContent":["import React, { Component } from \"react\";\n// This will require to npm install axios\nimport axios from 'axios';\nimport CountryTable from './CountryTable';\nimport { SearchBar2 } from \"./SearchBar2\";\n\nexport default class usersearch extends Component {\n  \n    constructor(props) {\n        super(props);\n        this.data = []; // this data should not live in state\n        this.state = { \n        records: [],\n        flight_from: '',\n        flight_from2: '',\n        flight_to: '',\n        flight_to2: '',\n        flightNum:'',\n        flight_date: '',\n        cabin: '',\n        noSeats: '',\n        depTime: '',\n        arrTime: '',\n        terminal: '',\n        isLoading: true,\n        };\n      }\n\n      // This method will get the data from the database.\n  componentDidMount() {\n    axios\n      .get(\"http://localhost:5001/record/\")\n      .then((response) => {\n        this.setState({ records: response.data });\n        let array = [];\n        for (let i = 0; i < response.data.length; i++) {\n          let entry = {};\n          //key value pairs\n          entry.flight_from = response.data[i].flight_from;\n          entry.flight_to2=response.data[i].flight_from;\n          entry.flight_to = response.data[i].flight_to;\n          entry.flight_from2 = response.data[i].flight_to;\n          entry.flightNum = response.data[i].flightNum;\n          entry.flight_date = response.data[i].flight_date;\n          entry.cabin = response.data[i].cabin;\n          entry.noSeats = response.data[i].noSeats;\n          entry.depTime = response.data[i].depTime;\n          entry.arrTime = response.data[i].arrTime;\n          entry.terminal = response.data[i].terminal;\n          array[i] = entry;\n        }\n         this.data= array;\n        this.setState({\n          isLoading: false,\n        });\n      })\n      .catch(error => this.setState({ error, isLoading: false }));\n  }\n  \n  \n  \n  handleSearchEvents = (title, name) => {\n    this.setState({ [name]: title });\n}\n    \n    render() {\n    // console.log(this.data); // data is array of objects\n    \n    const filteredData = this.data.filter((dataObj)=> \n    (dataObj.flight_from.indexOf(this.state.flight_from) !== -1)&&\n    (dataObj.flight_to2.indexOf(this.state.flight_from) !== -1)&&\n    (dataObj.flight_to.indexOf(this.state.flight_to) !== -1)&&\n    (dataObj.flight_from2.indexOf(this.state.flight_to) !== -1)&&\n    (dataObj.flight_date.indexOf(this.state.flight_date) !== -1)&&\n    (dataObj.cabin.indexOf(this.state.cabin) !== -1)&&\n    (dataObj.noSeats.indexOf(this.state.noSeats) !== -1));\n  \n\n     const filteredData2 = this.data.filter((dataObj)=> \n     (dataObj.flight_to.indexOf(this.state.flight_from) !== -1)&&\n     (dataObj.flight_from.indexOf(this.state.flight_to) !== -1));\n    // console.log(filteredData2);\n\n    return (\n      <div className=\"App\">\n        <SearchBar2\n          flight_from={this.state.flight_from}\n          flight_to={this.state.flight_to}\n          flight_date={this.state.flight_date}\n          cabin={this.state.cabin}\n          noSeats={this.state.noSeats}\n          handleSearchEvents={this.handleSearchEvents} />\n\n        <h3> Departure Flights </h3>\n\n        <CountryTable\n          flight_from={this.state.flight_from}\n          flight_to={this.state.flight_to}\n          flightNum={this.state.flightNum}\n          flight_date={this.state.flight_date}\n          cabin={this.state.cabin}\n          noSeats={this.state.noSeats}\n          depTime={this.state.depTime}\n          arrTime={this.state.arrTime}\n          terminal={this.state.terminal}\n          data={filteredData} /> {/* should pass filtered data into CountryTable*/}\n          \n        \n        <h3> Return Flights </h3>\n         \n\n        <CountryTable\n          flight_from={this.state.flight_from}\n          flight_to={this.state.flight_to}\n          flightNum={this.state.flightNum}\n          flight_date={this.state.flight_date}\n          cabin={this.state.cabin}\n          noSeats={this.state.noSeats}\n          depTime={this.state.depTime}\n          arrTime={this.state.arrTime}\n          terminal={this.state.terminal}\n          data={filteredData2} /> \n      </div>\n    );\n      \n      }\n}\n"]},"metadata":{},"sourceType":"module"}