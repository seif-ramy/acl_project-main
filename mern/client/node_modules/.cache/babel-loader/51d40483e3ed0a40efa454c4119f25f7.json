{"ast":null,"code":"var _jsxFileName = \"/Users/seiframy/Downloads/acl_project-main/mern/client/src/components/part2/UserSearchFlights.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport Typography from '@mui/material/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@mui/material/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserSearchFlights = props => {\n  _s();\n\n  let cabin = true;\n  const history = useHistory();\n  const departureSearch = props.location.state.departureFlight;\n  const returnSearch = props.location.state.returnFlight;\n  departureSearch.cabin === \"business\" ? cabin = true : cabin = false;\n  const [departureFlights, setDepartureFlights] = useState([]);\n  const [returnFlights, setReturnFlights] = useState([]);\n  const [chosenDeparture, setChosenDeparture] = useState({});\n  const [chosenReturn, setChosenReturn] = useState({});\n  const [selectedDepId, setSelectedDepId] = useState(\"\");\n  const [selectedRetId, setSelectedRetId] = useState(\"\");\n  useEffect(() => {\n    console.log(departureSearch);\n    axios.post(\"http://localhost:8000/user/search\", departureSearch).then(result => {\n      setDepartureFlights(result.data);\n    });\n    axios.post(\"http://localhost:8000/user/search\", returnSearch).then(result => {\n      setReturnFlights(result.data);\n    });\n  }, []);\n\n  const handleDeparture = flight => {\n    console.log(typeof flight._id);\n    cabin ? flight = { ...flight,\n      cabin: \"business\",\n      price: flight.price_business\n    } : flight = { ...flight,\n      cabin: \"economy\",\n      price: flight.price_economy\n    };\n    setSelectedDepId(prev => prev === flight._id ? \"\" : flight._id);\n    setChosenDeparture(prev => prev !== { ...flight,\n      passengers: departureSearch.passengers\n    } ? { ...flight,\n      passengers: departureSearch.passengers\n    } : {});\n    console.log(flight);\n  };\n\n  const handleReturn = flight => {\n    cabin ? flight = { ...flight,\n      cabin: \"business\",\n      price: flight.price_business\n    } : flight = { ...flight,\n      cabin: \"economy\",\n      price: flight.price_economy\n    };\n    setSelectedRetId(prev => prev === flight._id ? \"\" : flight._id);\n    setChosenReturn(prev => prev !== { ...flight,\n      passengers: departureSearch.passengers\n    } ? { ...flight,\n      passengers: departureSearch.passengers\n    } : {});\n    console.log(flight);\n  };\n\n  const handleProceed = () => {\n    console.log(chosenDeparture);\n    console.log(chosenReturn);\n\n    if (selectedDepId === \"\" || selectedRetId === \"\") {\n      alert(\"please select both\");\n    } else {\n      history.push(\"/summary\", { ...props.location.state,\n        departureFlight: chosenDeparture,\n        returnFlight: chosenReturn\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Departure Flights\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), departureFlights.map(flight => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(Accordion, {\n          children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n            expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this),\n            \"aria-controls\": \"panel1a-content\",\n            id: \"panel1a-header\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"left-txt\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \" Flight Date: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 17\n                  }, this), \" \", flight.flight_date, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \" From: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 17\n                  }, this), \" \", flight.from, \" \", flight.departure_time, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"To: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 17\n                  }, this), \" \", flight.to, \" \", flight.arrival_time, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Price: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 17\n                  }, this), \" \", cabin ? flight.price_business : flight.price_economy]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"left-txt\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Flight Number: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 17\n                }, this), \" \", flight.flight_number, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"left-txt\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Baggage Allowance: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 17\n                }, this), \" \", flight.baggage_allowance, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"left-txt\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Duration: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 17\n                }, this), \" \", flight.duration]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            backgroundColor: selectedDepId === flight._id ? \"#519259\" : \"#344CB7\"\n          },\n          variant: \"contained\",\n          onClick: () => {\n            handleDeparture(flight);\n          },\n          children: selectedDepId === flight._id ? \"Selected\" : \"Book Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, flight._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Return Flights\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }, this), returnFlights.map(flight => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(Accordion, {\n          children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n            expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 23\n            }, this),\n            \"aria-controls\": \"panel1a-content\",\n            id: \"panel1a-header\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"left-txt\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \" Flight Date: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 15\n                  }, this), \" \", flight.flight_date, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \" From: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 15\n                  }, this), \" \", flight.from, \" \", flight.departure_time, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"To: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 15\n                  }, this), \" \", flight.to, \" \", flight.arrival_time, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"left-txt\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Price: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 15\n                  }, this), \" \", cabin ? flight.price_business : flight.price_economy]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"left-txt\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Flight Number: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 15\n                }, this), \" \", flight.flight_number, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"left-txt\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Baggage Allowance: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 15\n                }, this), \" \", flight.baggage_allowance, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"left-txt\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Duration: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 15\n                }, this), \" \", flight.duration]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            backgroundColor: selectedRetId === flight._id ? \"#519259\" : \"#344CB7\"\n          },\n          variant: \"contained\",\n          onClick: () => {\n            handleReturn(flight);\n          },\n          children: selectedRetId === flight._id ? \"Selected\" : \"Book Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, flight._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: () => {\n        handleProceed();\n      },\n      children: \"Proceed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserSearchFlights, \"X7yu4iCfor8u3sP6/gQCYsRDY3Q=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserSearchFlights;\nexport default UserSearchFlights;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSearchFlights\");","map":{"version":3,"sources":["/Users/seiframy/Downloads/acl_project-main/mern/client/src/components/part2/UserSearchFlights.js"],"names":["axios","React","useEffect","useState","useHistory","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","Button","UserSearchFlights","props","cabin","history","departureSearch","location","state","departureFlight","returnSearch","returnFlight","departureFlights","setDepartureFlights","returnFlights","setReturnFlights","chosenDeparture","setChosenDeparture","chosenReturn","setChosenReturn","selectedDepId","setSelectedDepId","selectedRetId","setSelectedRetId","console","log","post","then","result","data","handleDeparture","flight","_id","price","price_business","price_economy","prev","passengers","handleReturn","handleProceed","alert","push","map","flight_date","from","departure_time","to","arrival_time","flight_number","baggage_allowance","duration","backgroundColor"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport Typography from '@mui/material/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@mui/material/Button';\n\n\nconst UserSearchFlights = (props) => {\n  let cabin=true;\n  \n  \n  const history=useHistory();\n\n  const departureSearch = props.location.state.departureFlight;\n  const returnSearch = props.location.state.returnFlight;\n  departureSearch.cabin === \"business\"? cabin =true:cabin =false;\n\n  const [departureFlights, setDepartureFlights] = useState([]);\n  const [returnFlights, setReturnFlights] = useState([]);\n\n  const [chosenDeparture, setChosenDeparture] = useState({});\n  const [chosenReturn, setChosenReturn] = useState({});\n\n  const [selectedDepId, setSelectedDepId] = useState(\"\");\n  const [selectedRetId, setSelectedRetId] = useState(\"\");\n\n\n  useEffect(() => {\n    console.log(departureSearch);\n    axios.post(\"http://localhost:8000/user/search\",departureSearch).then((result) => {\n      setDepartureFlights(result.data);\n     \n    });\n    axios.post(\"http://localhost:8000/user/search\",returnSearch).then((result) => {\n      setReturnFlights(result.data);\n    });\n\n\n  }, []);\n\n  const handleDeparture = (flight) => {\n    console.log(typeof flight._id);\n    cabin? flight={...flight,cabin:\"business\",price:flight.price_business} : flight={...flight,cabin:\"economy\",price:flight.price_economy}\n    setSelectedDepId((prev)=>prev===flight._id?\"\":flight._id);\n    setChosenDeparture((prev)=>prev!=={...flight,passengers:departureSearch.passengers}?{...flight,passengers:departureSearch.passengers}:{});\n    console.log(flight)\n  };\n  const handleReturn = (flight) => {\n    cabin? flight={...flight,cabin:\"business\",price:flight.price_business}:flight={...flight,cabin:\"economy\",price:flight.price_economy}\n    \n    setSelectedRetId((prev)=>prev===flight._id?\"\":flight._id);\n    setChosenReturn((prev)=>prev!=={...flight,passengers:departureSearch.passengers}?{...flight,passengers:departureSearch.passengers}:{});\n    console.log(flight)\n\n  };\n  const handleProceed = () => {\n    console.log(chosenDeparture);\n    console.log(chosenReturn);\n    if(selectedDepId===\"\"||selectedRetId===\"\"){\n      alert(\"please select both\")\n\n    }else{\n      \n      history.push (\"/summary\", {...props.location.state,\n        departureFlight: chosenDeparture,\n        returnFlight: chosenReturn,\n      })\n    }\n  }\n  return (\n    \n    <div>\n      \n\n      <ul>\n      <h3>Departure Flights</h3>\n        {departureFlights.map((flight) => (\n          \n          <li key={flight._id}>\n            <Accordion>\n            <AccordionSummary\n            expandIcon={<ExpandMoreIcon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\">\n            \n              <p className=\"left-txt\">\n                {\" \"}\n                <Typography>\n                <p className=\"left-txt\">\n                {\" \"}\n                \n                <b> Flight Date: </b> {flight.flight_date}{\" \"}\n              </p>\n                \n                <p className=\"left-txt\">\n                {\" \"}\n                \n                <b> From: </b> {flight.from } {flight.departure_time}{\" \"}\n              </p>\n              <p className=\"left-txt\">\n                {\" \"}\n                <b>To: </b> {flight.to } {flight.arrival_time}{\" \"}\n              </p>\n                \n              <p className=\"left-txt\">\n                {\" \"}\n                <b>Price: </b> {cabin ? flight.price_business : flight.price_economy}\n              </p>\n                </Typography>\n              </p>\n            </AccordionSummary>\n            <AccordionDetails>\n            <Typography>\n            <p className=\"left-txt\">\n                {\" \"}\n                <b>Flight Number: </b> {flight.flight_number}{\" \"}\n              </p>\n              <p className=\"left-txt\">\n                {\" \"}\n                <b>Baggage Allowance: </b> {flight.baggage_allowance}{\" \"}\n              </p>\n              <p className=\"left-txt\">\n                {\" \"}\n                <b>Duration: </b> {flight.duration}\n              </p>\n            </Typography>\n            </AccordionDetails>\n            </Accordion>\n            <Button style={{backgroundColor:selectedDepId===flight._id?\"#519259\":\"#344CB7\"}} variant=\"contained\" onClick={() => {handleDeparture(flight)}}>\n              {selectedDepId===flight._id? \"Selected\":\"Book Flight\"}</Button>\n\n          </li>\n          \n        ))}\n      </ul>\n    \n\n      <ul>\n      <h3>Return Flights</h3>\n        {returnFlights.map((flight) => (\n          \n          <li key={flight._id}>\n          <Accordion>\n          <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\">\n          \n            <p className=\"left-txt\">\n              {\" \"}\n              <Typography>\n              <p className=\"left-txt\">\n              {\" \"}\n              \n              <b> Flight Date: </b> {flight.flight_date}{\" \"}\n            </p>\n              \n              <p className=\"left-txt\">\n              {\" \"}\n              \n              <b> From: </b> {flight.from } {flight.departure_time}{\" \"}\n            </p>\n            <p className=\"left-txt\">\n              {\" \"}\n              <b>To: </b> {flight.to } {flight.arrival_time}{\" \"}\n            </p>\n              \n            <p className=\"left-txt\">\n              {\" \"}\n              <b>Price: </b> {cabin ? flight.price_business : flight.price_economy}\n            </p>\n              </Typography>\n            </p>\n          </AccordionSummary>\n          <AccordionDetails>\n          <Typography>\n          <p className=\"left-txt\">\n              {\" \"}\n              <b>Flight Number: </b> {flight.flight_number}{\" \"}\n            </p>\n            <p className=\"left-txt\">\n              {\" \"}\n              <b>Baggage Allowance: </b> {flight.baggage_allowance}{\" \"}\n            </p>\n            <p className=\"left-txt\">\n              {\" \"}\n              <b>Duration: </b> {flight.duration}\n            </p>\n          </Typography>\n          </AccordionDetails>\n          </Accordion>\n          <Button style={{backgroundColor:selectedRetId===flight._id?\"#519259\":\"#344CB7\"}} variant=\"contained\" onClick={() => {handleReturn(flight)}}>\n            {selectedRetId===flight._id? \"Selected\":\"Book Flight\"}</Button>\n\n        </li>\n          \n        ))}\n      </ul>\n      <Button variant=\"contained\" onClick={() => {handleProceed()}}>Proceed</Button>\n\n    </div>\n  );\n};\n\nexport default UserSearchFlights;\n"]},"metadata":{},"sourceType":"module"}